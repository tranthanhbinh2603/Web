(()=>{var e={859:(e,t,r)=>{var n,s;n=[r,t,r(302),r(524),r(528)],void 0===(s=function(e,t,r,n,s){"use strict";new r.ProjectInput,new n.ProjectList("active"),new n.ProjectList("finished"),new s.LoadTasksFromStorage}.apply(t,n))||(e.exports=s)},40:(e,t,r)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e,t,r,n){this.templateElement=document.getElementById(e),this.hostElement=document.getElementById(t);const s=document.importNode(this.templateElement.content,!0);this.element=s.firstElementChild,n&&(this.element.id=n),this.attach(r)}attach(e){this.hostElement.insertAdjacentElement(e?"afterbegin":"beforeend",this.element)}}}.apply(t,[r,t]),void 0===n||(e.exports=n)},302:function(e,t,r){var n,s,o=this&&this.__decorate||function(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i};n=[r,t,r(991),r(40),r(730),r(164)],s=function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectInput=void 0;class a extends n.BaseComponent{constructor(){super("project-input","app",!0,"user-input"),this.titleInputElement=this.element.querySelector("#title"),this.descriptionInputElement=this.element.querySelector("#description"),this.peopleInputElement=this.element.querySelector("#people"),this.configure()}fetchingUserInput(){const e=this.titleInputElement.value,t=this.descriptionInputElement.value,n=parseInt(this.peopleInputElement.value),o=[{value:e,require:!0,minLength:5,maxLength:50},{value:t,require:!0,minLength:10,maxLength:500},{value:n,require:!0,min:0,max:10}];(0,s.validate)(o)?r.projectStateObject.addTask([e,t,n]):alert("There is some error in input.")}formHandler(e){e.preventDefault(),this.fetchingUserInput()}configure(){this.element.addEventListener("submit",this.formHandler)}renderContent(){}}t.ProjectInput=a,o([i.autobind],a.prototype,"formHandler",null)}.apply(t,n),void 0===s||(e.exports=s)},524:function(e,t,r){var n,s,o=this&&this.__decorate||function(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i};n=[r,t,r(40),r(164),r(991),r(282)],s=function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectList=void 0;class a extends r.BaseComponent{get persons(){return 1===this.project.peopleJoin?"1 person":`${this.project.peopleJoin} persons`}constructor(e,t){super("single-project",e,!1,t.id.toString()),this.project=t,this.configure(),this.renderContent()}dragStartHandler(e){e.dataTransfer.setData("text/plain",this.project.id.toString()),e.dataTransfer.effectAllowed="move"}dragEndHandler(e){}configure(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler)}renderContent(){this.element.querySelector("h2").textContent=this.project.name,this.element.querySelector("h3").textContent=this.persons+" assigned",this.element.querySelector("p").textContent=this.project.description}}o([n.autobind],a.prototype,"dragStartHandler",null),o([n.autobind],a.prototype,"dragEndHandler",null);class l extends r.BaseComponent{dragOverHandler(e){if(e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]){e.preventDefault();const t=this.element.querySelector("ul");null==t||t.classList.add("droppable")}}dropHandler(e){const t=e.dataTransfer.getData("text/plain");s.projectStateObject.changeStatus(t,"active"===this.type?i.ProjectType.active:i.ProjectType.finished)}dragLeaveHandler(e){const t=this.element.querySelector("ul");null==t||t.classList.remove("droppable")}constructor(e){super("project-list","app",!1,`${e}-projects`),this.type=e,this.assignedTask=[],s.projectStateObject.addListener((t=>{const r=t.filter((t=>e===i.ProjectType.active?t.state===i.ProjectType.active:t.state===i.ProjectType.finished));this.assignedTask=r,this.renderTask()})),this.renderContent(),this.configure()}renderTask(){document.getElementById(`${this.type}-projects-list`).innerHTML="";for(const e of this.assignedTask)new a(this.element.querySelector("ul").id,e)}renderContent(){const e=`${this.type}-projects-list`;this.element.querySelector("ul").id=e,this.element.querySelector("h2").textContent=this.type.toUpperCase()+" PROJECTS"}configure(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler)}}t.ProjectList=l,o([n.autobind],l.prototype,"dragOverHandler",null),o([n.autobind],l.prototype,"dropHandler",null),o([n.autobind],l.prototype,"dragLeaveHandler",null)}.apply(t,n),void 0===s||(e.exports=s)},282:(e,t,r)=>{var n;n=function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Project=t.ProjectType=void 0,function(e){e.active="active",e.finished="finished"}(r||(t.ProjectType=r={})),t.Project=class{constructor(e,t,r,n,s){this.id=e,this.name=t,this.description=r,this.peopleJoin=n,this.state=s}}}.apply(t,[r,t]),void 0===n||(e.exports=n)},991:(e,t,r)=>{var n,s;n=[r,t,r(282)],s=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectStateObject=void 0;class n{constructor(){this.listenerList=[]}addListener(e){this.listenerList.push(e)}}class s extends n{static getInstance(){return s.instance||(this.instance=new s),this.instance}constructor(){super(),this.listTask=[]}addTask(e){const t=Date.now(),n=e[0],s=e[1],o=e[2],i=e[3]||r.ProjectType.active;this.listTask.push(new r.Project(t,n,s,o,i));for(const e of this.listenerList)e(this.listTask.slice());this.saveListToStorage()}changeStatus(e,t){const r=this.listTask.find((t=>t.id.toString()===e));r&&r.state!=t&&(r.state=t,this.saveListToStorage(),this.updateListeners())}updateListeners(){for(const e of this.listenerList)e(this.listTask.slice())}saveListToStorage(){Array.isArray(this.listTask)?localStorage.setItem("taskSave",JSON.stringify(this.listTask)):console.error("The provided data is not an array.")}getListFromStorage(){const e=localStorage.getItem("taskSave");if(!e)return console.warn("No data found for the given key."),[];try{return JSON.parse(e)||[]}catch(e){return console.error("Error parsing JSON:",e),[]}}}t.projectStateObject=s.getInstance()}.apply(t,n),void 0===s||(e.exports=s)},164:(e,t,r)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autobind=function(e,t,r){const n=r.value;return{configurable:!0,get(){return n.bind(this)}}}}.apply(t,[r,t]),void 0===n||(e.exports=n)},528:(e,t,r)=>{var n,s;n=[r,t,r(991)],s=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadTasksFromStorage=void 0,t.LoadTasksFromStorage=class{constructor(){this.loadTasks()}loadTasks(){const e=r.projectStateObject.getListFromStorage();if(e&&Array.isArray(e))for(const t of e)console.log(t),r.projectStateObject.addTask([t.name,t.description,t.peopleJoin,t.state])}}}.apply(t,n),void 0===s||(e.exports=s)},730:(e,t,r)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e){let t=!0;for(const r of e){if(r.require&&(t=t&&""!==r.value&&null!==r.value&&void 0!==r.value),!t)break;if("string"==typeof r.value&&(null!=r.minLength&&(t=t&&r.value.length>=r.minLength),null!=r.maxLength&&(t=t&&r.value.length<=r.maxLength)),"number"==typeof r.value&&(null!=r.min&&(t=t&&r.value>=r.min),null!=r.max&&(t=t&&r.value<=r.max)),!t)break}return t}}.apply(t,[r,t]),void 0===n||(e.exports=n)}},t={};!function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(859)})();